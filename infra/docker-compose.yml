version: '3.9'\nservices:\n  app:\n    build: .\n    env_file:\n      - .env\n    depends_on:\n      - cv\n      - db\n    ports:\n      - '8000:8000'\n  cv:\n    image: palm-ai/cv-service:latest\n    environment:\n      - MODEL_PATH=/models/palm_cnn.tflite\n    expose:\n      - '9000'\n  db:\n    image: postgres:16\n    restart: always\n    environment:\n      - POSTGRES_USER=palm\n      - POSTGRES_PASSWORD=pass\n      - POSTGRES_DB=palmdb\n    volumes:\n      - palm-data:/var/lib/postgresql/data\nvolumes:\n  palm-data: {}\n